\chapter{Opcode Encodings}
\label{opcodes}

This chapter contains proposed encodings for most of the instructions described
in this document. {\bf DO NOT IMPLEMENT THESE OPCODES YET.} We are trying to get
official opcodes assigned and will update this chapter soon with the official
opcodes.

% Opcodes:
% 0010011 OP-IMM
% 0110011 OP
% 0011011 OP-IMM-32
% 0111011 OP-32

% Shift Opcodes:
%         | SLL  SRL  SRA | GREV | SLO SRO ROL ROR
%  op[30] |   0    0    1 |    1 |   0   0   1   1
%  op[29] |   0    0    0 |    0 |   1   1   1   1
%  funct3 | 001  101  101 |  001 | 001 101 001 101
%
% (Unary operations are using the ROLI encoding space)

\begin{verbatim}
|  3                   2                   1                    |
|1 0 9 8 7 6 5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0|
|---------------------------------------------------------------|
|    funct7   |   rs2   |   rs1   |  f3 |    rd   |    opcode   |  R-type
|   rs3   | f2|   rs2   |   rs1   |  f3 |    rd   |    opcode   |  R4-type
|          imm          |   rs1   |  f3 |    rd   |    opcode   |  I-type
|---------------------------------------------------------------|
|  0110000       00000  |   rs1   | 001 |    rd   |   0010011   |  CLZ
|  0110000       00001  |   rs1   | 001 |    rd   |   0010011   |  CTZ
|  0110000       00010  |   rs1   | 001 |    rd   |   0010011   |  PCNT
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  ANDC
|  0010000    |   rs2   |   rs1   | 001 |    rd   |   0110011   |  SLO
|  0010000    |   rs2   |   rs1   | 101 |    rd   |   0110011   |  SRO
|  00100  |     imm     |   rs1   | 001 |    rd   |   0010011   |  SLOI
|  00100  |     imm     |   rs1   | 101 |    rd   |   0010011   |  SROI
|  0110000    |   rs2   |   rs1   | 001 |    rd   |   0110011   |  ROL
|  0110000    |   rs2   |   rs1   | 101 |    rd   |   0110011   |  ROR
|  01100  |     imm     |   rs1   | 101 |    rd   |   0010011   |  RORI
|  0100000    |   rs2   |   rs1   | 001 |    rd   |   0110011   |  GREV
|  01000  |     imm     |   rs1   | 001 |    rd   |   0010011   |  GREVI
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  SHFL
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  UNSHFL
|  ??????   |    imm    |   rs1   | ??? |    rd   |   0010011   |  SHFLI
|  ??????   |    imm    |   rs1   | ??? |    rd   |   0010011   |  UNSHFLI
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  BEXT
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  BDEP
|   rs3   | 00|   rs2   |   rs1   | ??? |    rd   |   ???????   |  CMIX
|   rs3   | 01|   rs2   |   rs1   | ??? |    rd   |   ???????   |  CMOV
|   rs3   | 10|   rs2   |   rs1   | ??? |    rd   |   ???????   |  FSL
|   rs3   | 11|   rs2   |   rs1   | ??? |    rd   |   ???????   |  FSR
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  MIN
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  MAX
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  MINU
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  MAXU
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  CLMUL
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  CLMULH
|  0110000       10000  |   rs1   | 001 |    rd   |   0010011   |  CRC32.B
|  0110000       10001  |   rs1   | 001 |    rd   |   0010011   |  CRC32.H
|  0110000       10010  |   rs1   | 001 |    rd   |   0010011   |  CRC32.W
|  0110000       10011  |   rs1   | 001 |    rd   |   0010011   |  CRC32.D
|  0110000       11000  |   rs1   | 001 |    rd   |   0010011   |  CRC32C.B
|  0110000       11001  |   rs1   | 001 |    rd   |   0010011   |  CRC32C.H
|  0110000       11010  |   rs1   | 001 |    rd   |   0010011   |  CRC32C.W
|  0110000       11011  |   rs1   | 001 |    rd   |   0010011   |  CRC32C.D
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  BMATXOR
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0110011   |  BMATOR
|  0110000       00011  |   rs1   | 001 |    rd   |   0010011   |  BMATFLIP
|---------------------------------------------------------------|
|  0110000       00000  |   rs1   | 001 |    rd   |   0011011   |  CLZW
|  0110000       00001  |   rs1   | 001 |    rd   |   0011011   |  CTZW
|  0110000       00010  |   rs1   | 001 |    rd   |   0011011   |  PCNTW
|  0010000    |   rs2   |   rs1   | 001 |    rd   |   0111011   |  SLOW
|  0010000    |   rs2   |   rs1   | 101 |    rd   |   0111011   |  SROW
|  00100  |     imm     |   rs1   | 001 |    rd   |   0011011   |  SLOIW
|  00100  |     imm     |   rs1   | 101 |    rd   |   0011011   |  SROIW
|  0110000    |   rs2   |   rs1   | 001 |    rd   |   0111011   |  ROLW
|  0110000    |   rs2   |   rs1   | 101 |    rd   |   0111011   |  RORW
|  01100  |     imm     |   rs1   | 101 |    rd   |   0011011   |  RORIW
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0111011   |  BEXTW
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0111011   |  BDEPW
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0111011   |  MINW
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0111011   |  MAXW
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0111011   |  MINUW
|  ???????    |   rs2   |   rs1   | ??? |    rd   |   0111011   |  MAXUW
|---------------------------------------------------------------|
\end{verbatim}
